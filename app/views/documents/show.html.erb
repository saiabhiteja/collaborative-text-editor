<div class="container mx-auto p-4">
  <div class="mb-4">
    <%= link_to "← Back to Documents", root_path, class: "text-blue-500 hover:underline" %>
  </div>

  <div id="editor" 
       data-document-id="<%= @document.id %>"
       data-initial-content="<%= @document.content %>"
       data-initial-version="<%= @document.version %>">
  </div>
</div>

<%= javascript_tag do %>
  document.addEventListener('DOMContentLoaded', () => {
    const editorElement = document.getElementById('editor');
    const props = {
      documentId: editorElement.dataset.documentId,
      initialContent: editorElement.dataset.initialContent,
      initialVersion: parseInt(editorElement.dataset.initialVersion)
    };
    
    const root = ReactDOM.createRoot(editorElement);
    root.render(React.createElement(Editor, props));
  });
<% end %>